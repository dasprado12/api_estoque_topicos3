(this.webpackJsonptrc3=this.webpackJsonptrc3||[]).push([[0],{51:function(n,e,t){},83:function(n,e,t){"use strict";t.r(e);var r=t(2),c=t(1),o=t.n(c),a=t(23),i=t.n(a),u=(t(51),t(84)),s=t(12),l=t(3),j=t.n(l),b=t(6),d=t(7),f=t(4),h=t(5);function p(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width:  50%;\n"]);return p=function(){return n},n}function x(){var n=Object(f.a)(["\n  color: red;\n"]);return x=function(){return n},n}function O(){var n=Object(f.a)(["\n  font-weight: bold;\n  color: black;\n  margin-left: ","px;\n"]);return O=function(){return n},n}function m(){var n=Object(f.a)(["\n  width: 255px;\n  height: 30px;\n  background-color: lightblue;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]);return m=function(){return n},n}function g(){var n=Object(f.a)(["\n  width: 255px;\n  height: 30px;\n  background-color: lightgreen;\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]);return g=function(){return n},n}function v(){var n=Object(f.a)(["\n  color: black;\n  margin: 0;\n"]);return v=function(){return n},n}function k(){var n=Object(f.a)(["\n  width: 250px;\n  height: 30px;\n  margin: 5px 0px 20px 0px;\n"]);return k=function(){return n},n}function w(){var n=Object(f.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  width: 100vw;\n"]);return w=function(){return n},n}var S=h.a.div(w()),C=h.a.input(k()),y=h.a.p(v()),q=h.a.button.attrs({type:"submit"})(g()),B=h.a.button.attrs({type:"submit"})(m()),I=h.a.h1(O(),(function(n){return n.ml})),T=h.a.p(x()),L=(h.a.div(p()),t(15)),E=t(43),R=t.n(E).a.create({baseURL:"https://api-estoque-topicos.herokuapp.com"}),z=function(){var n=Object(L.a)(),e=n.handleSubmit,t=n.register,o=Object(u.d)(),a=Object(c.useState)(null),i=Object(d.a)(a,2),s=i[0],l=i[1],f=function(){var n=Object(b.a)(j.a.mark((function n(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.post("/login",e);case 3:t=n.sent,console.log(t),R.defaults.headers.Authorization="Bearer ".concat(t.data.token),localStorage.setItem("token",t.data.token),o.push("/home"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),l(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(r.jsxs)(S,{children:[Object(r.jsx)(I,{children:" Bem vindo "}),Object(r.jsxs)("form",{onSubmit:e(f),children:[Object(r.jsx)(y,{children:"E-mail"}),Object(r.jsx)(C,{name:"email",ref:t}),Object(r.jsx)(y,{children:"Senha"}),Object(r.jsx)(C,{name:"senha",ref:t}),Object(r.jsx)("p",{}),Object(r.jsx)(q,{children:"Login"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),s&&Object(r.jsx)(T,{children:s})]}),Object(r.jsx)(B,{onClick:e((function(){try{o.push("/cadastro")}catch(n){console.log(n)}})),children:"Cadastre-se"})]})},A=function(){var n=Object(L.a)(),e=n.handleSubmit,t=n.register,o=Object(u.d)(),a=Object(c.useState)(null),i=Object(d.a)(a,2),s=i[0],l=i[1],f=function(){var n=Object(b.a)(j.a.mark((function n(e){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(e),n.next=4,R.post("/cadastro",e);case 4:n.sent,o.push("/"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),l(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return Object(r.jsxs)(S,{children:[Object(r.jsx)(I,{children:" Cadastre-se "}),Object(r.jsxs)("form",{onSubmit:e(f),children:[Object(r.jsx)(y,{children:"Nome"}),Object(r.jsx)(C,{name:"nome",ref:t}),Object(r.jsx)(y,{children:"E-mail"}),Object(r.jsx)(C,{name:"email",ref:t}),Object(r.jsx)(y,{children:"Senha"}),Object(r.jsx)(C,{name:"senha",ref:t}),Object(r.jsx)("p",{}),Object(r.jsx)(q,{children:"Cadastrar"}),s&&Object(r.jsx)(T,{children:s})]}),Object(r.jsx)("br",{}),Object(r.jsx)(B,{onClick:e((function(){try{o.push("/")}catch(n){console.log(n)}})),children:"Log-in"})]})},F=t(45),V=t(20);function P(){var n=Object(f.a)(["\n  color: red;\n"]);return P=function(){return n},n}function D(){var n=Object(f.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  width: 255px;\n  height: 30px;\n  background-color: ",";\n  margin-top: ",";\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]);return D=function(){return n},n}function J(){var n=Object(f.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  width: 255px;\n  height: 30px;\n  background-color: ",";\n  margin-top: ",";\n  color: #fff;\n  font-weight: bold;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]);return J=function(){return n},n}function Q(){var n=Object(f.a)(["\n  width: 40vw;\n  height: 30px;\n  margin: 5px 0px 20px 0px;\n"]);return Q=function(){return n},n}function M(){var n=Object(f.a)(["\n  background-color: lightblue;\n  cursor: pointer;\n"]);return M=function(){return n},n}function N(){var n=Object(f.a)(["\n  width: 50vw;\n"]);return N=function(){return n},n}function U(){var n=Object(f.a)(["\n  color: black;\n  margin: 0;\n"]);return U=function(){return n},n}function G(){var n=Object(f.a)(["\n  margin: auto auto 0 auto;\n"]);return G=function(){return n},n}function H(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return H=function(){return n},n}function K(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return K=function(){return n},n}function W(){var n=Object(f.a)(["\n  color: black;\n  font-weight: 300;\n"]);return W=function(){return n},n}function X(){var n=Object(f.a)(["\n  color: black;\n  font-weight: 300;\n"]);return X=function(){return n},n}function Y(){var n=Object(f.a)(["\n  border-bottom: 1px solid black;\n  padding: 25px 12px 18px;\n"]);return Y=function(){return n},n}var Z=h.a.div(Y()),$=h.a.h2(X()),_=h.a.p(W()),nn=h.a.div(K()),en=h.a.div(H()),tn=h.a.div(G()),rn=h.a.p(U()),cn=h.a.div(N()),on=h.a.button(M()),an=h.a.input(Q()),un=h.a.button.attrs({type:"submit"})(J(),(function(n){return n.color||"lightblue"}),(function(n){return n.marginTop})),sn=(h.a.button.attrs({type:"submit"})(D(),(function(n){return n.color||"green"}),(function(n){return n.marginTop})),h.a.p(P())),ln=t(44),jn=t.n(ln),bn={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},dn=function(n){var e=n.isOpen,t=n.onRequestClose,o=n.item,a=void 0===o?{}:o,i=n.isCreate,u=void 0!==i&&i,s=Object(c.useState)(null),l=Object(d.a)(s,2),f=l[0],h=(l[1],a.nome),p=a.descricao,x=a.quantidade,O=a.tipo,m=a.preco,g=a.id,v=Object(L.a)(),k=v.handleSubmit,w=v.register,S=function(){var n=Object(b.a)(j.a.mark((function n(e){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!u){n.next=9;break}return n.next=4,R.post("/produtos",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 4:n.sent,window.location.reload(),t(),n.next=14;break;case 9:return n.next=11,R.patch("/produtos/".concat(g),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 11:n.sent,window.location.reload(),t();case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}(),C=function(){var n=Object(b.a)(j.a.mark((function n(e){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.delete("/produtos/".concat(g),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:n.sent,window.location.reload(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}();return Object(r.jsxs)(jn.a,{isOpen:e,onRequestClose:t,style:bn,children:[Object(r.jsxs)("form",{onSubmit:k(S),children:[Object(r.jsx)(rn,{children:"T\xedtulo"}),Object(r.jsx)(an,{defaultValue:h,name:"nome",ref:w}),Object(r.jsx)(rn,{children:"Descri\xe7\xe3o"}),Object(r.jsx)(an,{defaultValue:p,name:"descricao",ref:w}),Object(r.jsx)(rn,{children:"Quantidade"}),Object(r.jsx)(an,{defaultValue:x,name:"quantidade",ref:w}),Object(r.jsx)(rn,{children:"Tipo"}),Object(r.jsx)(an,{defaultValue:O,name:"tipo",ref:w}),Object(r.jsx)(rn,{children:"Pre\xe7o"}),Object(r.jsx)(an,{defaultValue:m,name:"preco",ref:w}),Object(r.jsx)("p",{}),Object(r.jsx)(un,{children:"Enviar"}),f&&Object(r.jsx)(sn,{children:f})]}),Object(r.jsxs)(un,{onClick:C,marginTop:"5vh",color:"red",children:[Object(r.jsx)(V.a,{}),"Deletar"]})]})},fn=function(n){var e=n.item,t=e.nome,o=e.descricao,a=e.tipo,i=e.quantidade,u=e.preco,s=Object(c.useState)(null),l=Object(d.a)(s,2),j=l[0],b=l[1];return Object(r.jsxs)(Z,{children:[Object(r.jsxs)(nn,{children:[Object(r.jsx)(cn,{children:Object(r.jsxs)(en,{children:[Object(r.jsx)($,{children:t}),Object(r.jsx)(_,{children:o})]})}),Object(r.jsx)(tn,{children:Object(r.jsxs)(en,{children:[Object(r.jsxs)(rn,{children:["Tipo: ",a]}),Object(r.jsxs)(rn,{children:["Quantidade: ",i]}),Object(r.jsxs)(rn,{children:["Pre\xe7o: ",u]}),Object(r.jsxs)(on,{onClick:function(){return b(!0)},children:[Object(r.jsx)(V.b,{})," Editar"]})]})})]}),Object(r.jsx)(dn,{isOpen:j,onRequestClose:function(){return b(!1)},item:e})]})},hn=function(){var n=Object(c.useState)(null),e=Object(d.a)(n,2),t=e[0],o=e[1],a=Object(c.useState)(null),i=Object(d.a)(a,2),s=i[0],l=i[1],f=Object(u.d)(),h=function(){var n=Object(b.a)(j.a.mark((function n(){var e;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.get("/produtos",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:e=n.sent,o(e.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log({error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){h()}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:" Lista de produtos "}),Object(r.jsx)(q,{onClick:function(){return l(!0)},children:" Criar produto "}),Object(r.jsx)(q,{onClick:function(){return localStorage.removeItem("token"),void f.push("/")},children:"Logout"}),Object(r.jsx)(dn,{isOpen:s,onRequestClose:function(){return l(!1)},isCreate:!0}),t?t.map((function(n){return Object(r.jsx)(fn,{item:n,isOpen:s,setOpen:l,isCreate:!0})})):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("p",{children:["Carregando ",Object(r.jsx)(F.a,{})]})})]})},pn=function(){return Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/cadastro",exact:!0,component:function(){return Object(r.jsx)(A,{})}}),Object(r.jsx)(u.a,{path:"/",exact:!0,component:function(){return Object(r.jsx)(z,{})}}),Object(r.jsx)(u.a,{path:"/home",exact:!0,component:function(){return Object(r.jsx)(hn,{})}})]})},xn=Object(s.a)(),On=function(){return Object(r.jsx)(u.b,{history:xn,children:Object(r.jsx)(pn,{})})},mn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,85)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;t(n),r(n),c(n),o(n),a(n)}))};i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(On,{})}),document.getElementById("root")),mn()}},[[83,1,2]]]);
//# sourceMappingURL=main.c8fc8105.chunk.js.map