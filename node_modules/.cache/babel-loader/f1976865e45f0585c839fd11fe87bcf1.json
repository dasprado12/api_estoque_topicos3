{"ast":null,"code":"import _regeneratorRuntime from\"/home/prado/Desktop/unb/topicos/api_estoque_topicos3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/prado/Desktop/unb/topicos/api_estoque_topicos3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/prado/Desktop/unb/topicos/api_estoque_topicos3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useState}from\"react\";import{Container,Label,Button,ButtonC,Input,Title,ErrorMsg}from\"./styles\";import{useForm}from\"react-hook-form\";import{useHistory}from\"react-router-dom\";import api from\"../api\";var CadastroPage=function CadastroPage(){var _useForm=useForm(),handleSubmit=_useForm.handleSubmit,register=_useForm.register;var history=useHistory();// mensagem de erro\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;// data = {email, pwd}\nconsole.log(data);_context.next=4;return api.post(\"/cadastro\",data);case 4:response=_context.sent;history.push(\"/\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setMsg(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var goToH=function goToH(){try{history.push(\"/\");}catch(error){console.log(error);}};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\" Cadastre-se \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(Label,{children:\"Nome\"}),/*#__PURE__*/_jsx(Input,{name:\"nome\",ref:register}),/*#__PURE__*/_jsx(Label,{children:\"E-mail\"}),/*#__PURE__*/_jsx(Input,{name:\"email\",ref:register}),/*#__PURE__*/_jsx(Label,{children:\"Senha\"}),/*#__PURE__*/_jsx(Input,{name:\"senha\",ref:register}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(Button,{children:\"Cadastrar\"}),msg&&/*#__PURE__*/_jsx(ErrorMsg,{children:msg})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ButtonC,{onClick:handleSubmit(goToH),children:\"Log-in\"})]});};export default CadastroPage;","map":{"version":3,"sources":["/home/prado/Desktop/unb/topicos/api_estoque_topicos3/src/pages/Cadastro.js"],"names":["useState","Container","Label","Button","ButtonC","Input","Title","ErrorMsg","useForm","useHistory","api","CadastroPage","handleSubmit","register","history","msg","setMsg","onSubmit","data","console","log","post","response","push","goToH","error"],"mappings":"slBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,CAAoBC,KAApB,CAA2BC,MAA3B,CAAmCC,OAAnC,CAA4CC,KAA5C,CAAmDC,KAAnD,CAA0DC,QAA1D,KAA0E,UAA1E,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,GAAP,KAAgB,QAAhB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,cACUH,OAAO,EADjB,CACjBI,YADiB,UACjBA,YADiB,CACHC,QADG,UACHA,QADG,CAEzB,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CAEA;AAJyB,cAKHT,QAAQ,CAAC,IAAD,CALL,wCAKlBe,GALkB,eAKbC,MALa,eAOzB,GAAMC,CAAAA,QAAQ,0FAAG,iBAAOC,IAAP,+IAEb;AACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAHa,sBAIUR,CAAAA,GAAG,CAACW,IAAJ,CAAS,WAAT,CAAsBH,IAAtB,CAJV,QAIPI,QAJO,eAKbR,OAAO,CAACS,IAAR,CAAa,GAAb,EALa,+EAObP,MAAM,aAAN,CAPa,oEAAH,kBAARC,CAAAA,QAAQ,4CAAd,CAWA,GAAMO,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAI,CACFV,OAAO,CAACS,IAAR,CAAa,GAAb,EAED,CAAC,MAAME,KAAN,CAAY,CACZN,OAAO,CAACC,GAAR,CAAYK,KAAZ,EACD,CACF,CAPD,CASA,mBACE,MAAC,SAAD,yBACE,KAAC,KAAD,4BADF,cAEE,cAAM,QAAQ,CAAEb,YAAY,CAACK,QAAD,CAA5B,wBACE,KAAC,KAAD,mBADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,GAAG,CAAEJ,QAAxB,EAFF,cAGE,KAAC,KAAD,qBAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,GAAG,CAAEA,QAAzB,EAJF,cAKE,KAAC,KAAD,oBALF,cAME,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,GAAG,CAAEA,QAAzB,EANF,cAOE,YAPF,cAQE,KAAC,MAAD,wBARF,CASGE,GAAG,eAAI,KAAC,QAAD,WAAWA,GAAX,EATV,GAFF,cAaE,aAbF,cAcE,KAAC,OAAD,EAAS,OAAO,CAAEH,YAAY,CAACY,KAAD,CAA9B,oBAdF,GADF,CAmBD,CA9CD,CAgDA,cAAeb,CAAAA,YAAf","sourcesContent":["import { useState } from \"react\";\nimport { Container, Label, Button, ButtonC, Input, Title, ErrorMsg } from \"./styles\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\n\nimport api from \"../api\";\n\nconst CadastroPage = () => {\n  const { handleSubmit, register } = useForm();\n  const history = useHistory();\n\n  // mensagem de erro\n  const [msg, setMsg] = useState(null);\n\n  const onSubmit = async (data) => {\n    try {\n      // data = {email, pwd}\n      console.log(data)\n      const response = await api.post(\"/cadastro\", data);\n      history.push(\"/\");\n    } catch (error) {\n      setMsg(error);\n    }\n  };\n\n  const goToH = () => {\n    try {\n      history.push(\"/\");\n\n    } catch(error){\n      console.log(error)\n    }\n  }\n\n  return (\n    <Container>\n      <Title> Cadastre-se </Title>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <Label>Nome</Label>\n        <Input name=\"nome\" ref={register} />\n        <Label>E-mail</Label>\n        <Input name=\"email\" ref={register} />\n        <Label>Senha</Label>\n        <Input name=\"senha\" ref={register} />\n        <p />\n        <Button>Cadastrar</Button>\n        {msg && <ErrorMsg>{msg}</ErrorMsg>}\n      </form>\n      <br/>\n      <ButtonC onClick={handleSubmit(goToH)}>Log-in</ButtonC>\n\n    </Container>\n  );\n};\n\nexport default CadastroPage;\n"]},"metadata":{},"sourceType":"module"}